# 未登录界面设计方案

**日期**: 2026-01-30  
**状态**: 已确认，准备实现

## 设计概述

设计未登录状态下的界面，包括侧边栏、主内容区和右上角显示逻辑。

## 整体架构

### 布局结构

1. **左侧固定区域**（桌面端，48px宽）
   - 功能按钮（汉堡菜单图标）
   - 始终可见，用于切换侧边栏

2. **侧边栏**（256px宽，可滑动）
   - 顶部：登录/注册入口（大按钮）
   - 中间：功能导航菜单（核心价值、主要功能、开始使用）
   - 点击导航项：平滑滚动到主内容区对应部分

3. **主内容区**（占据剩余空间）
   - 产品介绍页面（可滚动）
   - 包含：Hero区域、核心价值主张、主要功能、CTA区域

4. **右上角固定区域**
   - 未登录：显示"未登录"文字（点击弹出登录模态框）
   - 已登录：显示"角色（用户名）" + 退出按钮

## 侧边栏详细设计（未登录时）

### 顶部区域：登录入口
- 标题："欢迎使用 Future Navigator"
- 两个大按钮：
  - "登录"（主要按钮，蓝色）
  - "注册"（次要按钮，边框样式）
- 点击后弹出对应的登录/注册模态框

### 中间区域：功能导航菜单
- 标题："了解平台"
- 导航项列表：
  - "核心价值"（点击后主内容区滚动到价值主张部分）
  - "主要功能"（点击后滚动到功能展示部分）
  - "开始使用"（点击后滚动到登录/注册CTA部分）
- 每个导航项：图标 + 文字，hover 效果

### 视觉样式
- 与现有侧边栏风格一致（灰色背景、圆角、间距）
- 登录按钮突出显示
- 导航项使用简洁图标

## 主内容区：产品介绍页面（简洁版）

### Hero 区域（顶部，全宽）
- 大标题："Future Navigator"
- 副标题：核心价值主张（1-2句话）
- 背景：简洁渐变或纯色

### 核心价值主张（第一个内容区块）
- 标题："为什么选择 Future Navigator"
- 3-4个要点卡片：
  - AI 智能对话
  - 多模态分析
  - 个性化学习支持
  - 简单易用
- 每个卡片：图标 + 标题 + 简短描述

### 主要功能（第二个内容区块）
- 标题："平台功能"
- 功能列表（3-4项）：
  - 智能对话助手
  - 学习内容分析
  - 学习报告生成
  - 多角色支持（教师/家长）
- 每项功能：图标 + 名称 + 简要说明

### 行动号召（CTA）（底部区域）
- 标题："立即开始使用"
- 两个大按钮：登录 / 注册
- 简短说明文字

### 布局特点
- 垂直滚动布局
- 每个区块之间有适当间距
- 内容居中显示，最大宽度限制
- 响应式设计（移动端/桌面端）

## 右上角显示逻辑

### 未登录状态
- 显示内容：文字"未登录"
- 交互：点击后弹出登录模态框

### 已登录状态
- 显示内容：角色标签 + 用户名
- 格式：`角色（用户名）`，例如：
  - "教师（张三）"
  - "家长（李四）"
  - "管理员（admin）"
- 右侧：退出按钮

### 移动端适配
- 顶部栏右侧显示相同内容
- 空间不足时，仅显示用户名，角色省略

## 滚动导航实现

### 滚动目标定位
- 主内容区每个区块设置唯一 ID：
  - `#hero` - Hero 区域
  - `#value-proposition` - 核心价值主张
  - `#features` - 主要功能
  - `#cta` - 行动号召

### 滚动实现方式
- 使用原生 `scrollIntoView({ behavior: 'smooth' })`
- 滚动时侧边栏保持打开状态（桌面端）

### 视觉反馈
- 点击导航项时，当前项高亮显示
- 滚动过程中，对应导航项保持高亮
- 可选：滚动时自动更新侧边栏当前项高亮

### 移动端处理
- 点击导航项后，滚动到目标位置
- 滚动完成后，自动关闭侧边栏（覆盖层模式）

## 响应式设计

### 侧边栏行为
- 桌面端：侧边栏打开时，主内容区右移（保持现有动画）
- 移动端：侧边栏为覆盖层，带半透明遮罩，点击遮罩关闭

### 顶部栏显示
- 桌面端：右上角固定显示"未登录"或用户信息
- 移动端：顶部栏右侧显示相同内容，但空间更紧凑

### 产品介绍页面
- 桌面端：内容居中，最大宽度限制（如 max-w-4xl）
- 移动端：全宽显示，适当的内边距
- Hero 区域：移动端字体稍小，保持可读性

## 组件架构

### 主页面组件 (`app/page.tsx`)
- 根据 `user` 状态条件渲染：
  - `user === null`：显示未登录界面（新产品介绍页面）
  - `user?.role === 'admin'`：显示管理员界面
  - 其他：显示已登录界面（当前聊天界面）

### 新增组件
- `app/components/landing/LandingPage.tsx`：产品介绍页面
  - Hero 区域
  - 核心价值主张区块
  - 主要功能区块
  - CTA 区块
- `app/components/landing/ValueProposition.tsx`：价值主张卡片组件
- `app/components/landing/FeatureList.tsx`：功能列表组件

### 修改组件
- `app/components/Sidebar.tsx`：根据 `user` 状态显示不同内容
  - 未登录：显示登录入口 + 导航菜单
  - 已登录：显示对话历史（保持现有功能）

## 数据流

- `AuthContext` 提供 `user` 状态
- 各组件通过 `useAuth()` 获取用户状态
- 侧边栏和主内容区根据 `user` 状态切换显示

## 加载状态和错误处理

### 加载状态
- 页面初始加载时显示骨架屏或加载指示器
- 侧边栏内容加载时显示占位符
- 产品介绍页面内容加载时显示加载动画

### 错误处理
- 如果认证状态检查失败，显示错误提示
- 如果滚动导航失败，降级为普通跳转
- 如果组件加载失败，显示友好的错误信息

## 文案内容（临时）

### Hero 区域
- 标题：Future Navigator
- 副标题：AI 驱动的学习助手平台，助力教师和家长更好地支持学生学习

### 核心价值主张
1. **AI 智能对话**
   - 与 AI 助手自然对话，获得个性化学习建议
2. **多模态分析**
   - 支持文本、图片、视频等多种内容分析
3. **个性化学习支持**
   - 根据学生情况提供定制化学习方案
4. **简单易用**
   - 直观的界面设计，轻松上手

### 主要功能
1. **智能对话助手**
   - 24/7 在线 AI 助手，随时解答学习问题
2. **学习内容分析**
   - 快速分析学习材料，提取关键信息
3. **学习报告生成**
   - 自动生成学习报告，跟踪学习进度
4. **多角色支持**
   - 教师和家长不同视角，共同关注学生成长

### CTA 区域
- 标题：立即开始使用
- 说明：登录或注册账号，开启智能学习之旅

## 技术实现要点

- 使用 `useRef` 或 `useEffect` 监听滚动位置
- 实现简单的"当前区域"检测逻辑
- 使用 Tailwind 响应式类（`lg:` 前缀）
- 保持现有的移动端侧边栏遮罩逻辑
- 确保触摸友好的点击区域（至少 44x44px）

## 下一步

1. 创建 LandingPage 组件及其子组件
2. 修改 Sidebar 组件支持未登录状态
3. 修改 page.tsx 添加未登录界面路由
4. 实现滚动导航功能
5. 添加加载状态和错误处理
6. 测试响应式设计
