# Future Navigator æ•°æ®åº“è®¾è®¡æ–‡æ¡£

**åˆ›å»ºæ—¶é—´**: 2026-01-30  
**ç‰ˆæœ¬**: 1.0  
**æ•°æ®åº“**: Supabase (PostgreSQL)

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº† Future Navigator æ•™å¸ˆç•Œé¢åŠŸèƒ½æ‰€éœ€çš„æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡ã€‚æ‰€æœ‰è¡¨éƒ½å­˜å‚¨åœ¨ Supabase PostgreSQL æ•°æ®åº“ä¸­ï¼Œä½¿ç”¨ Row Level Security (RLS) è¿›è¡Œæ•°æ®å®‰å…¨æ§åˆ¶ã€‚

## ğŸ—‚ï¸ æ•°æ®å­˜å‚¨ç­–ç•¥

### ç»“æ„åŒ–æ•°æ® vs éç»“æ„åŒ–æ•°æ®

- **ç»“æ„åŒ–æ•°æ®**ï¼šå­˜å‚¨åœ¨ Supabase PostgreSQL æ•°æ®åº“ä¸­
  - ç­çº§ä¿¡æ¯ã€å­¦ç”Ÿä¿¡æ¯
  - è§†é¢‘å…ƒæ•°æ®ï¼ˆURLã€çŠ¶æ€ã€æ—¶é•¿ç­‰ï¼‰
  - åˆ†ææŠ¥å‘Šå†…å®¹ï¼ˆJSON æ ¼å¼ï¼‰
  - é”™è¯¯è®°å½•ã€é›·è¾¾å›¾æ•°æ®
  - ç­çº§æ‘˜è¦

- **éç»“æ„åŒ–æ•°æ®**ï¼šå­˜å‚¨åœ¨ Vercel Blob
  - è§†é¢‘æ–‡ä»¶ï¼ˆMP4ã€MOV ç­‰ï¼‰
  - å›¾ç‰‡æ–‡ä»¶ï¼ˆå¤´åƒã€æˆªå›¾ç­‰ï¼‰
  - å…¶ä»–åª’ä½“æ–‡ä»¶

### å…³è”å…³ç³»

æ•°æ®åº“è¡¨åªå­˜å‚¨æ–‡ä»¶çš„ URLï¼ˆ`blob_url`ï¼‰ï¼Œå®é™…æ–‡ä»¶å­˜å‚¨åœ¨ Vercel Blobã€‚é€šè¿‡ URL å…³è”ä¸¤è€…ã€‚

## ğŸ“Š æ•°æ®è¡¨ç»“æ„

### 1. classes è¡¨ - ç­çº§è¡¨

**ç”¨é€”**: å­˜å‚¨ç­çº§ä¿¡æ¯

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `teacher_id`: UUIDï¼Œå¤–é”®å…³è” `users.id`ï¼Œä¸€ä¸ªæ•™å¸ˆå¯¹åº”ä¸€ä¸ªç­çº§
- `name`: VARCHAR(100)ï¼Œç­çº§åç§°
- `description`: TEXTï¼Œç­çº§æè¿°ï¼ˆå¯é€‰ï¼‰
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´
- `updated_at`: TIMESTAMPTZï¼Œæ›´æ–°æ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-1",
  "teacher_id": "uuid-teacher-1",
  "name": "ä¸‰å¹´çº§Aç­",
  "description": "2024å¹´æ˜¥å­£å­¦æœŸ",
  "created_at": "2026-01-30T10:00:00Z",
  "updated_at": "2026-01-30T10:00:00Z"
}
```

**å…³è”å…³ç³»**:
- ä¸€ä¸ªæ•™å¸ˆ (`users`) â†’ ä¸€ä¸ªç­çº§ (`classes`)
- ä¸€ä¸ªç­çº§ â†’ å¤šä¸ªå­¦ç”Ÿ (`students`)

---

### 2. students è¡¨ - å­¦ç”Ÿè¡¨

**ç”¨é€”**: å­˜å‚¨å­¦ç”Ÿä¿¡æ¯

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `class_id`: UUIDï¼Œå¤–é”®å…³è” `classes.id`
- `name`: VARCHAR(100)ï¼Œå­¦ç”Ÿå§“å
- `student_number`: VARCHAR(50)ï¼Œå­¦å·ï¼ˆå¯é€‰ï¼‰
- `avatar_url`: TEXTï¼Œå¤´åƒ URLï¼ˆå­˜å‚¨åœ¨ Blobï¼Œå¯é€‰ï¼‰
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´
- `updated_at`: TIMESTAMPTZï¼Œæ›´æ–°æ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-student-1",
  "class_id": "uuid-1",
  "name": "å¼ ä¸‰",
  "student_number": "2024001",
  "avatar_url": "https://blob.vercel-storage.com/avatar-123.jpg",
  "created_at": "2026-01-30T10:00:00Z",
  "updated_at": "2026-01-30T10:00:00Z"
}
```

**å…³è”å…³ç³»**:
- ä¸€ä¸ªå­¦ç”Ÿ â†’ å¤šä¸ªè§†é¢‘ (`videos`)
- ä¸€ä¸ªå­¦ç”Ÿ â†’ å¤šä¸ªåˆ†ææŠ¥å‘Š (`analysis_reports`)
- ä¸€ä¸ªå­¦ç”Ÿ â†’ å¤šä¸ªé”™è¯¯è®°å½• (`student_errors`)
- ä¸€ä¸ªå­¦ç”Ÿ â†’ å¤šä¸ªé›·è¾¾å›¾æ•°æ® (`student_radar_data`)

---

### 3. videos è¡¨ - è§†é¢‘è¡¨

**ç”¨é€”**: å­˜å‚¨è§†é¢‘å…ƒæ•°æ®

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `student_id`: UUIDï¼Œå¤–é”®å…³è” `students.id`
- `blob_url`: TEXTï¼Œ**Vercel Blob å­˜å‚¨çš„è§†é¢‘ URL**ï¼ˆé‡è¦ï¼šè§†é¢‘æ–‡ä»¶æœ¬èº«ä¸åœ¨æ•°æ®åº“ï¼‰
- `title`: VARCHAR(200)ï¼Œè§†é¢‘æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰
- `status`: VARCHAR(20)ï¼ŒçŠ¶æ€ï¼š`pending`ï¼ˆå¾…å¤„ç†ï¼‰ã€`processing`ï¼ˆå¤„ç†ä¸­ï¼‰ã€`completed`ï¼ˆå·²å®Œæˆï¼‰ã€`failed`ï¼ˆå¤±è´¥ï¼‰
- `duration_seconds`: INTEGERï¼Œè§†é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
- `file_size`: BIGINTï¼Œæ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚ï¼‰
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´
- `updated_at`: TIMESTAMPTZï¼Œæ›´æ–°æ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-video-1",
  "student_id": "uuid-student-1",
  "blob_url": "https://blob.vercel-storage.com/video-123.mp4",
  "title": "çƒ˜ç„™å·¥ä½œåŠ - 2026-01-30",
  "status": "completed",
  "duration_seconds": 1200,
  "file_size": 15728640,
  "created_at": "2026-01-30T10:00:00Z",
  "updated_at": "2026-01-30T10:05:00Z"
}
```

**å…³è”å…³ç³»**:
- ä¸€ä¸ªè§†é¢‘ â†’ å¤šä¸ªåˆ†ææŠ¥å‘Š (`analysis_reports`ï¼Œå¯é€‰ï¼‰
- ä¸€ä¸ªè§†é¢‘ â†’ å¤šä¸ªé”™è¯¯è®°å½• (`student_errors`ï¼Œå¯é€‰ï¼‰
- ä¸€ä¸ªè§†é¢‘ â†’ é›·è¾¾å›¾æ•°æ® (`student_radar_data`ï¼Œå¯é€‰ï¼‰

**é‡è¦è¯´æ˜**:
- è§†é¢‘æ–‡ä»¶å­˜å‚¨åœ¨ Vercel Blobï¼Œæ•°æ®åº“åªå­˜å‚¨ URL
- ä¸Šä¼ è§†é¢‘æ—¶ï¼šå…ˆä¸Šä¼ åˆ° Blob è·å– URLï¼Œå†æ’å…¥æ•°æ®åº“è®°å½•
- åˆ é™¤è§†é¢‘æ—¶ï¼šéœ€è¦åŒæ—¶åˆ é™¤ Blob æ–‡ä»¶å’Œæ•°æ®åº“è®°å½•

---

### 4. analysis_reports è¡¨ - åˆ†ææŠ¥å‘Šè¡¨

**ç”¨é€”**: å­˜å‚¨ AI ç”Ÿæˆçš„åˆ†ææŠ¥å‘Š

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `student_id`: UUIDï¼Œå¤–é”®å…³è” `students.id`
- `video_id`: UUIDï¼Œå¤–é”®å…³è” `videos.id`ï¼ˆå¯é€‰ï¼Œå•æ¬¡è§†é¢‘åˆ†ææ—¶å…³è”ï¼‰
- `report_type`: VARCHAR(20)ï¼ŒæŠ¥å‘Šç±»å‹ï¼š`single`ï¼ˆå•æ¬¡åˆ†æï¼‰ã€`quarterly`ï¼ˆå­£åº¦æ€»ç»“ï¼‰ã€`custom`ï¼ˆè‡ªå®šä¹‰ï¼‰
- `title`: VARCHAR(200)ï¼ŒæŠ¥å‘Šæ ‡é¢˜
- `content`: JSONBï¼Œ**æŠ¥å‘Šçš„ç»“æ„åŒ–å†…å®¹**ï¼ˆJSON æ ¼å¼ï¼Œå­˜å‚¨è¯¦ç»†æ•°æ®ï¼‰
- `summary`: TEXTï¼ŒæŠ¥å‘Šæ‘˜è¦ï¼ˆæ–‡æœ¬æ ¼å¼ï¼Œç”¨äºå¿«é€Ÿé¢„è§ˆï¼‰
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-report-1",
  "student_id": "uuid-student-1",
  "video_id": "uuid-video-1",
  "report_type": "single",
  "title": "2026-01-30 è§†é¢‘åˆ†ææŠ¥å‘Š",
  "content": {
    "language_analysis": {
      "fluency_score": 85,
      "vocabulary_richness": 78,
      "grammar_accuracy": 82
    },
    "behavior_analysis": {
      "collaboration_score": 90,
      "problem_solving_score": 88
    }
  },
  "summary": "å­¦ç”Ÿåœ¨æœ¬æ¬¡å·¥ä½œåŠä¸­è¡¨ç°ä¼˜ç§€ï¼Œè¯­è¨€æµåˆ©åº¦æå‡æ˜æ˜¾...",
  "created_at": "2026-01-30T10:10:00Z"
}
```

**å…³è”å…³ç³»**:
- æŠ¥å‘Šå±äºä¸€ä¸ªå­¦ç”Ÿ
- æŠ¥å‘Šå¯èƒ½å…³è”ä¸€ä¸ªè§†é¢‘ï¼ˆå•æ¬¡åˆ†æï¼‰æˆ–ä¸å…³è”ï¼ˆå­£åº¦æ€»ç»“ï¼‰

---

### 5. student_errors è¡¨ - å­¦ç”Ÿé”™è¯¯è®°å½•è¡¨

**ç”¨é€”**: å­˜å‚¨ä»è§†é¢‘åˆ†æä¸­æå–çš„è¯­æ³•å’Œå‘éŸ³é”™è¯¯

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `student_id`: UUIDï¼Œå¤–é”®å…³è” `students.id`
- `video_id`: UUIDï¼Œå¤–é”®å…³è” `videos.id`ï¼ˆå¯é€‰ï¼Œè®°å½•é”™è¯¯æ¥æºï¼‰
- `error_type`: VARCHAR(20)ï¼Œé”™è¯¯ç±»å‹ï¼š`grammar`ï¼ˆè¯­æ³•ï¼‰ã€`pronunciation`ï¼ˆå‘éŸ³ï¼‰ã€`vocabulary`ï¼ˆè¯æ±‡ï¼‰ã€`other`ï¼ˆå…¶ä»–ï¼‰
- `error_content`: TEXTï¼Œé”™è¯¯çš„åŸå§‹å†…å®¹
- `correct_content`: TEXTï¼Œæ­£ç¡®çš„å†…å®¹
- `frequency`: INTEGERï¼Œè¯¥é”™è¯¯å‡ºç°çš„é¢‘ç‡ï¼ˆé»˜è®¤ 1ï¼‰
- `context`: TEXTï¼Œé”™è¯¯å‡ºç°çš„ä¸Šä¸‹æ–‡ï¼ˆå¯é€‰ï¼‰
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´
- `updated_at`: TIMESTAMPTZï¼Œæ›´æ–°æ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-error-1",
  "student_id": "uuid-student-1",
  "video_id": "uuid-video-1",
  "error_type": "pronunciation",
  "error_content": "thre",
  "correct_content": "three",
  "frequency": 3,
  "context": "I have thre apples.",
  "created_at": "2026-01-30T10:10:00Z",
  "updated_at": "2026-01-30T10:10:00Z"
}
```

**å…³è”å…³ç³»**:
- é”™è¯¯å±äºä¸€ä¸ªå­¦ç”Ÿ
- é”™è¯¯å¯èƒ½å…³è”ä¸€ä¸ªè§†é¢‘ï¼ˆè®°å½•æ¥æºï¼‰

**é‡è¦è¯´æ˜**:
- åŒä¸€å­¦ç”Ÿçš„ç›¸åŒé”™è¯¯åªè®°å½•ä¸€æ¬¡ï¼Œé€šè¿‡ `frequency` å­—æ®µç´¯åŠ å‡ºç°æ¬¡æ•°
- ä½¿ç”¨ `UNIQUE(student_id, error_content, error_type)` çº¦æŸç¡®ä¿å”¯ä¸€æ€§

---

### 6. student_radar_data è¡¨ - é›·è¾¾å›¾æ•°æ®è¡¨

**ç”¨é€”**: å­˜å‚¨å­¦ç”Ÿçš„ 6 ç»´åº¦èƒ½åŠ›è¯„ä¼°æ•°æ®

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `student_id`: UUIDï¼Œå¤–é”®å…³è” `students.id`
- `video_id`: UUIDï¼Œå¤–é”®å…³è” `videos.id`ï¼ˆå¯é€‰ï¼Œå•æ¬¡è§†é¢‘åˆ†æçš„æ•°æ®ï¼‰
- `language_application`: INTEGER (0-100)ï¼Œè¯­è¨€åº”ç”¨èƒ½åŠ›
- `communication_collaboration`: INTEGER (0-100)ï¼Œæ²Ÿé€šåä½œèƒ½åŠ›
- `problem_solving`: INTEGER (0-100)ï¼Œé—®é¢˜è§£å†³èƒ½åŠ›
- `proactive_exploration`: INTEGER (0-100)ï¼Œä¸»åŠ¨æ¢ç´¢èƒ½åŠ›
- `creative_expression`: INTEGER (0-100)ï¼Œåˆ›é€ æ€§è¡¨è¾¾
- `intrinsic_motivation`: INTEGER (0-100)ï¼Œå­¦ä¹ å†…é©±åŠ›
- `recorded_at`: TIMESTAMPTZï¼Œæ•°æ®è®°å½•æ—¶é—´
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-radar-1",
  "student_id": "uuid-student-1",
  "video_id": "uuid-video-1",
  "language_application": 85,
  "communication_collaboration": 90,
  "problem_solving": 88,
  "proactive_exploration": 82,
  "creative_expression": 80,
  "intrinsic_motivation": 87,
  "recorded_at": "2026-01-30T10:10:00Z",
  "created_at": "2026-01-30T10:10:00Z"
}
```

**å…³è”å…³ç³»**:
- æ•°æ®å±äºä¸€ä¸ªå­¦ç”Ÿ
- æ•°æ®å¯èƒ½å…³è”ä¸€ä¸ªè§†é¢‘ï¼ˆå•æ¬¡åˆ†æï¼‰æˆ–ä¸å…³è”ï¼ˆç»¼åˆè¯„ä¼°ï¼‰

**é‡è¦è¯´æ˜**:
- æ¯æ¬¡å·¥ä½œåŠæˆ–è§†é¢‘åˆ†æåæ›´æ–°é›·è¾¾å›¾æ•°æ®
- å¯ä»¥å­˜å‚¨å†å²æ•°æ®ï¼Œç”¨äºæ˜¾ç¤ºè¶‹åŠ¿
- ç»¼åˆè¯„ä¼°æ—¶ `video_id` ä¸º NULL

---

### 7. class_summaries è¡¨ - ç­çº§æ‘˜è¦è¡¨

**ç”¨é€”**: å­˜å‚¨ AI ç”Ÿæˆçš„ç­çº§æ‘˜è¦ï¼ˆç”¨äºç­çº§æ¦‚å†µé¡µé¢çš„æ‘˜è¦å¡ç‰‡ï¼‰

**å­—æ®µè¯´æ˜**:
- `id`: UUIDï¼Œä¸»é”®
- `class_id`: UUIDï¼Œå¤–é”®å…³è” `classes.id`
- `summary_content`: TEXTï¼Œ**AI ç”Ÿæˆçš„æ‘˜è¦å†…å®¹**
- `generated_at`: TIMESTAMPTZï¼Œæ‘˜è¦ç”Ÿæˆæ—¶é—´
- `created_at`: TIMESTAMPTZï¼Œåˆ›å»ºæ—¶é—´

**æ•°æ®ç¤ºä¾‹**:
```json
{
  "id": "uuid-summary-1",
  "class_id": "uuid-1",
  "summary_content": "æœ¬å‘¨ç­çº§æ•´ä½“è¡¨ç°ä¼˜ç§€ã€‚å¼ ä¸‰åœ¨è¯­è¨€åº”ç”¨æ–¹é¢è¿›æ­¥æ˜æ˜¾ï¼Œå€¼å¾—è¡¨æ‰¬ï¼›æå››éœ€è¦åŠ å¼ºå‘éŸ³ç»ƒä¹ ï¼Œå»ºè®®é‡ç‚¹å…³æ³¨...",
  "generated_at": "2026-01-30T09:00:00Z",
  "created_at": "2026-01-30T09:00:00Z"
}
```

**å…³è”å…³ç³»**:
- æ‘˜è¦å±äºä¸€ä¸ªç­çº§

**é‡è¦è¯´æ˜**:
- å®šæœŸï¼ˆå¦‚æ¯å¤©æˆ–æ¯å‘¨ï¼‰ç”± AI ç”Ÿæˆæ–°çš„æ‘˜è¦
- æŸ¥è¯¢æ—¶è·å–æœ€æ–°çš„æ‘˜è¦ï¼ˆæŒ‰ `generated_at` DESC æ’åºï¼‰

---

## ğŸ”— è¡¨å…³è”å…³ç³»å›¾

```
users (æ•™å¸ˆ)
  â””â”€â”€ classes (ç­çº§)
       â””â”€â”€ students (å­¦ç”Ÿ)
            â”œâ”€â”€ videos (è§†é¢‘)
            â”‚    â”œâ”€â”€ analysis_reports (åˆ†ææŠ¥å‘Š)
            â”‚    â”œâ”€â”€ student_errors (é”™è¯¯è®°å½•)
            â”‚    â””â”€â”€ student_radar_data (é›·è¾¾å›¾æ•°æ®)
            â”œâ”€â”€ analysis_reports (åˆ†ææŠ¥å‘Šï¼Œå¯èƒ½ä¸å…³è”è§†é¢‘)
            â”œâ”€â”€ student_errors (é”™è¯¯è®°å½•ï¼Œå¯èƒ½ä¸å…³è”è§†é¢‘)
            â””â”€â”€ student_radar_data (é›·è¾¾å›¾æ•°æ®ï¼Œå¯èƒ½ä¸å…³è”è§†é¢‘)
       â””â”€â”€ class_summaries (ç­çº§æ‘˜è¦)
```

## ğŸ”’ å®‰å…¨ç­–ç•¥ (RLS)

æ‰€æœ‰è¡¨éƒ½å¯ç”¨äº† Row Level Security (RLS)ï¼Œç¡®ä¿ï¼š

1. **æ•™å¸ˆæƒé™**: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§çš„æ•°æ®
2. **ç®¡ç†å‘˜æƒé™**: ç®¡ç†å‘˜å¯ä»¥è®¿é—®æ‰€æœ‰æ•°æ®
3. **æ•°æ®éš”ç¦»**: ä¸åŒæ•™å¸ˆä¹‹é—´çš„æ•°æ®å®Œå…¨éš”ç¦»

### RLS ç­–ç•¥è¯´æ˜

- `classes`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±çš„ç­çº§
- `students`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§çš„å­¦ç”Ÿ
- `videos`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§å­¦ç”Ÿçš„è§†é¢‘
- `analysis_reports`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§å­¦ç”Ÿçš„æŠ¥å‘Š
- `student_errors`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§å­¦ç”Ÿçš„é”™è¯¯è®°å½•
- `student_radar_data`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§å­¦ç”Ÿçš„é›·è¾¾å›¾æ•°æ®
- `class_summaries`: æ•™å¸ˆåªèƒ½è®¿é—®è‡ªå·±ç­çº§çš„æ‘˜è¦

## ğŸ“ˆ ç´¢å¼•è®¾è®¡

ä¸ºäº†æé«˜æŸ¥è¯¢æ€§èƒ½ï¼Œä¸ºä»¥ä¸‹å­—æ®µåˆ›å»ºäº†ç´¢å¼•ï¼š

- å¤–é”®å­—æ®µï¼ˆå¦‚ `student_id`, `class_id`, `teacher_id`ï¼‰
- å¸¸ç”¨æŸ¥è¯¢å­—æ®µï¼ˆå¦‚ `status`, `report_type`, `error_type`ï¼‰
- æ—¶é—´å­—æ®µï¼ˆå¦‚ `created_at`, `recorded_at`ï¼Œç”¨äºæ’åºï¼‰

## ğŸ”„ æ•°æ®æµç¨‹

### è§†é¢‘ä¸Šä¼ æµç¨‹

1. ç”¨æˆ·ä¸Šä¼ è§†é¢‘ â†’ Vercel Blob
2. è·å– Blob URL
3. æ’å…¥ `videos` è¡¨è®°å½•ï¼ˆ`status = 'pending'`ï¼‰
4. è§¦å‘è§†é¢‘åˆ†æä»»åŠ¡
5. åˆ†æå®Œæˆåæ›´æ–° `videos.status = 'completed'`
6. æ’å…¥ `analysis_reports`ã€`student_errors`ã€`student_radar_data` è®°å½•

### æŠ¥å‘Šç”Ÿæˆæµç¨‹

1. é€‰æ‹©æŠ¥å‘Šç±»å‹ï¼ˆå•æ¬¡/å­£åº¦ï¼‰
2. æŸ¥è¯¢ç›¸å…³æ•°æ®ï¼ˆè§†é¢‘ã€é”™è¯¯è®°å½•ã€é›·è¾¾å›¾æ•°æ®ï¼‰
3. AI ç”ŸæˆæŠ¥å‘Šå†…å®¹
4. æ’å…¥ `analysis_reports` è¡¨

### ç­çº§æ‘˜è¦ç”Ÿæˆæµç¨‹

1. å®šæœŸä»»åŠ¡ï¼ˆæ¯å¤©/æ¯å‘¨ï¼‰
2. æŸ¥è¯¢ç­çº§æ‰€æœ‰å­¦ç”Ÿçš„æœ€æ–°æ•°æ®
3. AI ç”Ÿæˆæ‘˜è¦
4. æ’å…¥ `class_summaries` è¡¨ï¼ˆä¿ç•™å†å²è®°å½•ï¼‰

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **è§†é¢‘æ–‡ä»¶ç®¡ç†**: åˆ é™¤è§†é¢‘æ—¶éœ€è¦åŒæ—¶åˆ é™¤ Blob æ–‡ä»¶å’Œæ•°æ®åº“è®°å½•
2. **æ•°æ®ä¸€è‡´æ€§**: ä½¿ç”¨å¤–é”®çº¦æŸå’Œçº§è”åˆ é™¤ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
3. **æ€§èƒ½ä¼˜åŒ–**: å¤§é‡æ•°æ®æ—¶è€ƒè™‘åˆ†é¡µæŸ¥è¯¢å’Œç´¢å¼•ä¼˜åŒ–
4. **å¤‡ä»½ç­–ç•¥**: å®šæœŸå¤‡ä»½æ•°æ®åº“ï¼ŒBlob æ–‡ä»¶ä¹Ÿéœ€è¦å¤‡ä»½
5. **RLS æµ‹è¯•**: éƒ¨ç½²å‰å……åˆ†æµ‹è¯• RLS ç­–ç•¥ï¼Œç¡®ä¿æ•°æ®å®‰å…¨

## ğŸ”§ ç»´æŠ¤å»ºè®®

1. **å®šæœŸæ¸…ç†**: æ¸…ç†è¿‡æœŸçš„æ‘˜è¦è®°å½•ï¼ˆä¿ç•™æœ€è¿‘ N æ¡ï¼‰
2. **æ•°æ®å½’æ¡£**: é•¿æœŸæ•°æ®å¯ä»¥è€ƒè™‘å½’æ¡£åˆ°å†·å­˜å‚¨
3. **ç›‘æ§**: ç›‘æ§è¡¨å¤§å°å’ŒæŸ¥è¯¢æ€§èƒ½
4. **ä¼˜åŒ–**: æ ¹æ®å®é™…ä½¿ç”¨æƒ…å†µè°ƒæ•´ç´¢å¼•ç­–ç•¥

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2026-01-30
